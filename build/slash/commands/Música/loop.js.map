{"version":3,"file":"loop.js","sourceRoot":"","sources":["../../../../src/slash/commands/MÃºsica/loop.ts"],"names":[],"mappings":"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","sourcesContent":["import { ChatInputCommandInteraction, Colors } from 'discord.js'\nimport EmbedBuilder from '#structures/EmbedBuilder.js'\nimport Client from '#structures/Client.js'\nimport Command from '#structures/Command.js'\nimport Translator, { keys } from '#utils/Translator.js'\nimport logger from '#utils/logger.js'\n\nexport default class Loop extends Command {\n    constructor () {\n        super({\n            name: 'loop',\n            description: 'Loops the current queue',\n            cooldown: 5,\n        })\n    }\n\n    override async run (interaction: ChatInputCommandInteraction) {\n        if (!interaction.inCachedGuild()) return\n        const client = interaction.client as Client\n        const translate = Translator(interaction)\n        const player = client.music.players.get(interaction.guild.id)\n        if (!player)\n            return await interaction.reply({\n                embeds: [\n                    new EmbedBuilder().setColor(client.settings.color).setFooter({\n                        text: translate(keys.queue.no_queue),\n                        iconURL: interaction.user.displayAvatarURL(),\n                    }),\n                ],\n                ephemeral: true,\n            })\n                .catch(logger.error)\n\n        if (!interaction.member.voice)\n            return await interaction.reply({\n                embeds: [\n                    new EmbedBuilder().setColor(Colors.Red).setFooter({\n                        text: translate(keys.skip.no_same),\n                        iconURL: interaction.user.displayAvatarURL(),\n                    }),\n                ],\n                ephemeral: true,\n            })\n                .catch(logger.error)\n\n        if (interaction.member.voice.channelId !== player.voiceChannel.id)\n            return await interaction.reply({\n                embeds: [\n                    new EmbedBuilder().setColor(Colors.Red).setFooter({\n                        text: translate(keys.skip.no_same),\n                        iconURL: interaction.user.displayAvatarURL(),\n                    }),\n                ],\n                ephemeral: true,\n            })\n                .catch(logger.error)\n\n        if (!player.queue.current)\n            return await interaction.reply({\n                embeds: [\n                    new EmbedBuilder().setColor(client.settings.color).setFooter({\n                        text: translate(keys.queue.no_queue),\n                        iconURL: interaction.user.displayAvatarURL(),\n                    }),\n                ],\n                ephemeral: true,\n            })\n                .catch(logger.error)\n\n        if (!player.trackRepeat) {\n            player.setQueueRepeat(true)\n            player.setTrackRepeat(false)\n        }\n        return await interaction.reply({\n            embeds: [\n                new EmbedBuilder()\n                    .setColor(client.settings.color)\n                    .setFooter({\n                        text: translate(keys.loop.song),\n                        iconURL: interaction.user.displayAvatarURL(),\n                    }),\n            ],\n        })\n            .catch(logger.error)\n    }\n}\n"]}