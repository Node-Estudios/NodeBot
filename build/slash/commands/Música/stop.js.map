{"version":3,"file":"stop.js","sourceRoot":"","sources":["../../../../src/slash/commands/MÃºsica/stop.ts"],"names":[],"mappings":"AACA,OAAO,YAAY,MAAM,6BAA6B,CAAA;AAEtD,OAAO,OAAO,MAAM,wBAAwB,CAAA;AAC5C,OAAO,UAAU,EAAE,EAAE,IAAI,EAAE,MAAM,sBAAsB,CAAA;AACvD,OAAO,MAAM,MAAM,kBAAkB,CAAA;AAErC,MAAM,CAAC,OAAO,OAAO,IAAK,SAAQ,OAAO;IACrC;QACI,KAAK,CAAC;YACF,IAAI,EAAE,MAAM;YACZ,WAAW,EAAE,kBAAkB;YAC/B,QAAQ,EAAE,CAAC;YACX,aAAa,EAAE,KAAK;SACvB,CAAC,CAAA;IACN,CAAC;IAEQ,KAAK,CAAC,GAAG,CAAE,WAAkD;QAClE,MAAM,MAAM,GAAG,WAAW,CAAC,MAAgB,CAAA;QAC3C,MAAM,SAAS,GAAG,UAAU,CAAC,WAAW,CAAC,CAAA;QACzC,MAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;QAC7D,IAAI,CAAC,MAAM;YACP,OAAO,MAAM,WAAW,CAAC,KAAK,CAAC;gBAC3B,MAAM,EAAE;oBACJ,IAAI,YAAY,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC;wBACzD,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;wBACpC,OAAO,EAAE,WAAW,CAAC,IAAI,CAAC,gBAAgB,EAAE;qBAC/C,CAAC;iBACL;aACJ,CAAC;iBACG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;QAE5B,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,OAAO;YACtB,OAAO,MAAM,WAAW,CAAC,KAAK,CAAC;gBAC3B,MAAM,EAAE;oBACJ,IAAI,YAAY,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC;wBACzD,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;wBACpC,OAAO,EAAE,WAAW,CAAC,IAAI,CAAC,gBAAgB,EAAE;qBAC/C,CAAC;iBACL;aACJ,CAAC;iBACG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;QAE5B,IAAI,MAAM,CAAC,WAAW;YAAE,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAA;QACpD,IAAI,MAAM,CAAC,WAAW;YAAE,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAA;QACpD,IAAI;YACA,MAAM,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAA;SACtC;QAAC,OAAO,KAAK,EAAE;YACZ,MAAM,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAc,CAAC,CAAA;SACvD;QAED,OAAO,MAAM,WAAW,CAAC,KAAK,CAAC;YAC3B,MAAM,EAAE;gBACJ,IAAI,YAAY,EAAE;qBACb,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC;qBAC/B,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,8BAA8B,CAAC;qBACvE,cAAc,CACX,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAC/B;qBACA,SAAS,CAAC,EAAE,IAAI,EAAE,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,WAAW,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAE,CAAC;aACpG;SACJ,CAAC;aACG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;IAC5B,CAAC;CACJ","sourcesContent":["import { ChatInputCommandInteraction } from 'discord.js'\nimport EmbedBuilder from '#structures/EmbedBuilder.js'\nimport Client from '#structures/Client.js'\nimport Command from '#structures/Command.js'\nimport Translator, { keys } from '#utils/Translator.js'\nimport logger from '#utils/logger.js'\n\nexport default class Stop extends Command {\n    constructor () {\n        super({\n            name: 'stop',\n            description: 'Stop the player!',\n            cooldown: 5,\n            dm_permission: false,\n        })\n    }\n\n    override async run (interaction: ChatInputCommandInteraction<'cached'>) {\n        const client = interaction.client as Client\n        const translate = Translator(interaction)\n        const player = client.music.players.get(interaction.guild.id)\n        if (!player)\n            return await interaction.reply({\n                embeds: [\n                    new EmbedBuilder().setColor(client.settings.color).setFooter({\n                        text: translate(keys.queue.no_queue),\n                        iconURL: interaction.user.displayAvatarURL(),\n                    }),\n                ],\n            })\n                .catch(logger.error)\n\n        if (!player?.queue.current)\n            return await interaction.reply({\n                embeds: [\n                    new EmbedBuilder().setColor(client.settings.color).setFooter({\n                        text: translate(keys.queue.no_queue),\n                        iconURL: interaction.user.displayAvatarURL(),\n                    }),\n                ],\n            })\n                .catch(logger.error)\n\n        if (player.trackRepeat) player.setTrackRepeat(false)\n        if (player.queueRepeat) player.setQueueRepeat(false)\n        try {\n            await client.music.queueEnd(player)\n        } catch (error) {\n            client.errorHandler.captureException(error as Error)\n        }\n\n        return await interaction.reply({\n            embeds: [\n                new EmbedBuilder()\n                    .setColor(client.settings.color)\n                    .setTitle(translate(keys.SUCCESSEMBED) + ' <a:tick:836295873091862568>')\n                    .setDescription(\n                        translate(keys.stop.success),\n                    )\n                    .setFooter({ text: interaction.user.username, iconURL: interaction.user.displayAvatarURL() }),\n            ],\n        })\n            .catch(logger.error)\n    }\n}\n"]}